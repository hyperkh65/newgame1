<!DOCTYPE html>
<html>
<head>
    <title>THE PREHISTORIK - REAL 3D EDITION</title>
    <style>
        body { margin: 0; background: #000; overflow: hidden; }
        #info { position: absolute; top: 10px; width: 100%; text-align: center; color: white; font-family: sans-serif; pointer-events: none; text-shadow: 2px 2px #000; }
    </style>
</head>
<body>
    <div id="info">PREHISTORIK 3D: ARROW KEYS TO MOVE, SPACE TO JUMP</div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script>
        // 1. Scene Setup
        const scene = new THREE.Scene();
        scene.background = new THREE.Color(0x60a0f0);
        const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
        const renderer = new THREE.WebGLRenderer({ antialias: true });
        renderer.setSize(window.innerWidth, window.innerHeight);
        renderer.shadowMap.enabled = true;
        document.body.appendChild(renderer.domElement);

        // 2. Lights
        const light = new THREE.DirectionalLight(0xffffff, 1);
        light.position.set(5, 10, 5);
        light.castShadow = true;
        scene.add(light);
        scene.add(new THREE.AmbientLight(0x404040));

        // 3. Sam - Genuine 3D Object Group
        const sam = new THREE.Group();
        
        // Belly (Large Sphere)
        const bodyGeo = new THREE.SphereGeometry(0.8, 32, 32);
        const bodyMat = new THREE.MeshPhongMaterial({ color: 0xa05000 });
        const body = new THREE.Mesh(bodyGeo, bodyMat);
        body.scale.set(1.2, 1.4, 1.2);
        body.castShadow = true;
        sam.add(body);

        // Head
        const headGeo = new THREE.BoxGeometry(0.6, 0.6, 0.6);
        const headMat = new THREE.MeshPhongMaterial({ color: 0xf8b888 });
        const head = new THREE.Mesh(headGeo, headMat);
        head.position.y = 1.2;
        head.castShadow = true;
        sam.add(head);

        // Club
        const clubGeo = new THREE.CylinderGeometry(0.1, 0.2, 1.5, 12);
        const clubMat = new THREE.MeshPhongMaterial({ color: 0x5d4037 });
        const club = new THREE.Mesh(clubGeo, clubMat);
        club.position.set(0.8, 0, 0.5);
        club.rotation.z = Math.PI / 4;
        club.castShadow = true;
        sam.add(club);

        scene.add(sam);

        // 4. Ground
        const groundGeo = new THREE.PlaneGeometry(100, 100);
        const groundMat = new THREE.MeshPhongMaterial({ color: 0x3d2b1f });
        const ground = new THREE.Mesh(groundGeo, groundMat);
        ground.rotation.x = -Math.PI / 2;
        ground.position.y = -1.2;
        ground.receiveShadow = true;
        scene.add(ground);

        camera.position.set(0, 2, 8);
        camera.lookAt(0, 0, 0);

        // 5. Physics & Movement
        let velY = 0;
        let isJumping = false;
        const keys = {};

        function animate() {
            requestAnimationFrame(animate);

            if (keys['ArrowRight']) { sam.position.x += 0.1; sam.rotation.y = Math.PI/2; }
            if (keys['ArrowLeft']) { sam.position.x -= 0.1; sam.rotation.y = -Math.PI/2; }
            
            if (keys[' '] && !isJumping) { velY = 0.2; isJumping = true; }
            
            if (isJumping) {
                sam.position.y += velY;
                velY -= 0.01;
                if (sam.position.y <= 0) {
                    sam.position.y = 0;
                    isJumping = false;
                }
            }

            // Camera follow
            camera.position.x = sam.position.x;

            renderer.render(scene, camera);
        }

        window.addEventListener('keydown', e => keys[e.key] = true);
        window.addEventListener('keyup', e => keys[e.key] = false);

        animate();
    </script>
</body>
</html>
