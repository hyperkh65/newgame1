<!DOCTYPE html>
<html>
<head>
    <title>AI STARTUP - 3D OFFICE TOUR</title>
    <style>
        body { margin: 0; background: #f0f2f5; overflow: hidden; font-family: 'Segoe UI', sans-serif; }
        #overlay { position: absolute; top: 20px; left: 20px; color: #333; background: rgba(255,255,255,0.8); padding: 15px; border-radius: 10px; pointer-events: none; box-shadow: 0 4px 15px rgba(0,0,0,0.1); }
        h1 { margin: 0; font-size: 18px; color: #007bff; }
        p { margin: 5px 0 0; font-size: 12px; }
    </style>
</head>
<body>
    <div id="overlay">
        <h1>AI APP STARTUP HEADQUARTERS</h1>
        <p>Use Arrows to Move, Mouse to Look Around</p>
        <div id="dept-info" style="margin-top:10px; font-weight:bold; color:#555;">Current Zone: Entrance</div>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script>
        // --- 1. Basic Setup ---
        const scene = new THREE.Scene();
        scene.background = new THREE.Color(0xeef2f3);
        const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
        const renderer = new THREE.WebGLRenderer({ antialias: true });
        renderer.setSize(window.innerWidth, window.innerHeight);
        renderer.shadowMap.enabled = true;
        document.body.appendChild(renderer.domElement);

        // Lights
        const ambientLight = new THREE.AmbientLight(0xffffff, 0.6);
        scene.add(ambientLight);
        const sunLight = new THREE.DirectionalLight(0xffffff, 0.8);
        sunLight.position.set(10, 20, 10);
        sunLight.castShadow = true;
        scene.add(sunLight);

        // --- 2. Environment ---
        // Large Floor
        const floorGeo = new THREE.PlaneGeometry(100, 100);
        const floorMat = new THREE.MeshPhongMaterial({ color: 0xffffff });
        const floor = new THREE.Mesh(floorGeo, floorMat);
        floor.rotation.x = -Math.PI / 2;
        floor.receiveShadow = true;
        scene.add(floor);

        // Helper to Create Zones
        function createZone(x, z, color, name) {
            const group = new THREE.Group();
            
            // Wall/Marker
            const markerGeo = new THREE.BoxGeometry(8, 0.1, 8);
            const markerMat = new THREE.MeshPhongMaterial({ color: color, transparent: true, opacity: 0.3 });
            const marker = new THREE.Mesh(markerGeo, markerMat);
            group.add(marker);

            // Desk
            const deskGeo = new THREE.BoxGeometry(4, 0.2, 2);
            const deskMat = new THREE.MeshPhongMaterial({ color: 0xdddddd });
            const desk = new THREE.Mesh(deskGeo, deskMat);
            desk.position.y = 1;
            desk.castShadow = true;
            group.add(desk);

            // Employee (Simplified Avatar)
            const head = new THREE.Mesh(new THREE.SphereGeometry(0.3), new THREE.MeshPhongMaterial({color: 0xffdbac}));
            head.position.set(0, 2.2, -0.5);
            group.add(head);
            const body = new THREE.Mesh(new THREE.CylinderGeometry(0.4, 0.4, 1), new THREE.MeshPhongMaterial({color: color}));
            body.position.set(0, 1.5, -0.5);
            group.add(body);

            group.position.set(x, 0, z);
            scene.add(group);
            return { name, x, z };
        }

        const zones = [
            createZone(-10, -10, 0xff4757, "DESIGN TEAM"),
            createZone(10, -10, 0x2ed573, "MARKETING TEAM"),
            createZone(-10, 10, 0x1e90ff, "SALES TEAM"),
            createZone(10, 10, 0xffa502, "ACCOUNTING TEAM")
        ];

        // --- 3. Interaction ---
        camera.position.set(0, 5, 20);
        const keys = {};
        window.addEventListener('keydown', e => keys[e.key] = true);
        window.addEventListener('keyup', e => keys[e.key] = false);

        function animate() {
            requestAnimationFrame(animate);

            if (keys['ArrowUp'] || keys['w']) camera.position.z -= 0.2;
            if (keys['ArrowDown'] || keys['s']) camera.position.z += 0.2;
            if (keys['ArrowLeft'] || keys['a']) camera.position.x -= 0.2;
            if (keys['ArrowRight'] || keys['d']) camera.position.x += 0.2;

            // Simple Collision & Zone Detection
            zones.forEach(z => {
                const dist = Math.sqrt((camera.position.x - z.x)**2 + (camera.position.z - z.z)**2);
                if (dist < 5) {
                    document.getElementById('dept-info').innerText = "Current Zone: " + z.name;
                    document.getElementById('dept-info').style.color = "#000";
                }
            });

            renderer.render(scene, camera);
        }

        animate();
    </script>
</body>
</html>
